This project is licensed under the terms of the MIT license.

Trace Name: ssdtrace
Contributor Name: Shehbaz Jaffer
Contributor Email Address: shehbaz@cs.toronto.edu

Thank you for your interest in downloading the traces.

A detailed description of the traces can also be found in our paper:

SSD-Based Workload Characteristics and Their Performance Implications
Gala Yadgar, Moshe Gabel, Shehbaz Jaffer, Bianca Schroeder
ACM Transactions in Storage

Please cite our paper if the trace is useful in your research.

This folder contains the following files:
=========================================

1. ssdtrace-sample.gz - A sample trace containing the first 10,000 records of the trace.
2. ssdtrace-XX.gz - 27 gzipped files with serial id 00-26 (replace XX with a serial number).

Each file is ~1GB in size and contains different segments of the original blocktrace file.
The entire trace can be regenerated by unzipping and concatenating the files in the order of 
their serial number. 
On Unix platforms, this can be done by running the following command in the same folder 
where all gzipped files were downloaded:

	`cat *.gz | unzip > rawfile`

3. README.

Additional Trace Information can be found below:
===============================================

Name of the I/O Trace: ssdtrace
Paper: SSD-Based Workload Characteristics and Their Performance Implications
Number of Records within the I/O Trace Data File: 2073713605 (~ 2 Billion)
Date of Trace Collection: Dec 14, 2018 - Jan 9, 2019
Time Span of I/O Trace: 9.68 Hours
Type of I/O Trace: File System Blocktrace.
General Categorization of Workload: YCSB Workload Type A (50% reads, 50% updates) on RocksDB 
running on ext4 FileSystem.

Trace Format Description:
=========================

sector size is 512 byte according to paper
so 16 in below trace data means 16 * 512 byte = 8kb
```
259,2   11  1241577   581.009222786  4027  G   R 773158144 + 16 [java]
259,2   11  1241578   581.009223881  4027  U   N [java] 1
259,2   11  1241579   581.009224140  4027  I  RS 773158144 + 16 [java]
259,2   11  1241580   581.009225075  4027  D  RS 773158144 + 16 [java]
259,2   10  1204628   581.009226894  4030  Q   R 998198736 + 16 [java]
259,2   10  1204629   581.009227596  4030  G   R 998198736 + 16 [java]
259,2   10  1204630   581.009228760  4030  U   N [java] 1
259,2   10  1204631   581.009229002  4030  I  RS 998198736 + 16 [java]
259,2   10  1204632   581.009229980  4030  D  RS 998198736 + 16 [java]
259,2   14  1060041   581.009242675     0  C  RS 338974952 + 16 [0]
```

Each blocktrace record contains the following fields

[Device Major Number,Device Minor Number] [CPU Core ID] [Record ID] [Timestamp (in nanoseconds)] 
[ProcessID] [Trace Action] [OperationType] [SectorNumber + I/O Size] [ProcessName]

More details about each blocktrace field can be obtained here: https://linux.die.net/man/1/blkparse

```
In the output of `blkparse`, the `WM` and `RM` are part of the RWBS field, which stands for Read, Write, Barrier, and Sync¹. 

- `W` stands for Write: The operation is a write operation¹.
- `R` stands for Read: The operation is a read operation¹.
- `M` stands for Metadata: The operation is a metadata operation¹.

So, `WM` means a write metadata operation, and `RM` means a read metadata operation¹. These operations are related to the metadata of the file system¹.

Source: Conversation with Bing, 12/5/2023
(1) blkparse(1) - Linux manual page - man7.org. https://www.man7.org/linux/man-pages/man1/blkparse.1.html.
(2) blkparse how to show IO Scheduler message - Stack Overflow. https://stackoverflow.com/questions/49975074/blkparse-how-to-show-io-scheduler-message.
(3) linux - How do you specify a blkparse format specifier that also .... https://unix.stackexchange.com/questions/392118/how-do-you-specify-a-blkparse-format-specifier-that-also-suppresses-summary.
(4) Available data for I/O requests on Linux on z Systems - IBM. https://www.ibm.com/docs/en/linux-on-z?topic=blktrace-data-io-requests.
```

```
In the context of `blkparse` output, `N` is part of the RWBS field, which stands for Read, Write, Barrier, and Sync¹. 

- `N` stands for None: The operation does not involve data transfer¹.

So, if you see an `N` in the RWBS field of `blkparse` output, it means the operation does not involve data transfer¹.

Source: Conversation with Bing, 12/5/2023
(1) blkparse(1) - Linux manual page - man7.org. https://www.man7.org/linux/man-pages/man1/blkparse.1.html.
(2) linux - How do you specify a blkparse format specifier that also .... https://unix.stackexchange.com/questions/392118/how-do-you-specify-a-blkparse-format-specifier-that-also-suppresses-summary.
(3) Black people - Wikipedia. https://en.wikipedia.org/wiki/Black_people.
(4) blkparse how to show IO Scheduler message - Stack Overflow. https://stackoverflow.com/questions/49975074/blkparse-how-to-show-io-scheduler-message.

```

```
The `N` operation in `blkparse` output, which stands for None, is used to represent operations that do not involve data transfer¹. These could be operations related to control, configuration, or communication between different components of the system¹. For example, it could be used to represent an operation where a request is being queued or a command is being sent to a device¹. This allows `blkparse` to provide a more comprehensive view of the system's activity by including these non-data-transfer operations in its output¹.

Source: Conversation with Bing, 12/5/2023
(1) blkparse(1) - Linux manual page - man7.org. https://www.man7.org/linux/man-pages/man1/blkparse.1.html.
(2) blkparse how to show IO Scheduler message - Stack Overflow. https://stackoverflow.com/questions/49975074/blkparse-how-to-show-io-scheduler-message.
(3) linux - How do you specify a blkparse format specifier that also .... https://unix.stackexchange.com/questions/392118/how-do-you-specify-a-blkparse-format-specifier-that-also-suppresses-summary.
```

Platform Details:
================

Machine Specification: ASUS
Cores: 28 Cores (Hyperthreading enabled) @2.4GHz
Memory: 128 GB
Operating System: Linux 5.0.0, Ubuntu 18.04 LTS
Disk Specifications: 2 x Samsung 970 Pro NVMe SSD Drive
Workload Specifications: YCSB Workload Type A (50% Reads, 50% Writes) on RocksDB running on 
top of ext4 file system. 

Tool to capture the I/O Trace:
=============================
blktrace/blkparse version 2.0.0.

Trace Workload Description
==========================
We run YCSB-0.15.0 benchmark with RocksDB in embedded mode.
We choose YCSB Workload A containing 50% reads and 50% updates of 1 billion operations on 
250 million records, to simulate a session store recording recent actions. We run this 
setup for 9.7 hours which results in generating over 352 million block I/O requests at the 
file system level.

Trace Environment Description
=============================

We format both disks with the ext4 file system with default journaling (data=ordered) mode.
The first disk is a dedicated SSD that stores all blocktrace files and the second hosts YCSB 
and RocksDB. We use separate disks so that the writes done during the blocktrace collection 
don't interfere with the YCSB I/O operations.

